<!--
  Generated template for the DetallePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Detalles del transporte</ion-title>
  </ion-navbar>

</ion-header>


<ion-content >
  <ion-card class="adv-map">
    <div style="position: relative">
      <img src="https://maps.googleapis.com/maps/api/staticmap?size=600x300&path=color:0x0000ff|weight:5|{{ viaje.origen.lat }},{{ viaje.origen.lng }}|{{ viaje.destino.lat }},{{ viaje.destino.lng }}&key=AIzaSyDAwA6ASuWzPzvoSHZDSWdBwKkjwEN9Pp0">
    </div>
    <ion-item *ngIf="viaje.idTransportista!='';else origenProvincia">
        <ion-icon color="subtle" name="arrow-dropright-circle" item-start large></ion-icon>
        <h2>{{ viaje.origen.name }}</h2>
        <p>{{ viaje.origen.formatted_address }}</p>
      </ion-item>
      <ng-template #origenProvincia>
        <ion-item>
            <ion-icon color="subtle" name="arrow-dropright-circle" item-start large></ion-icon>
            <h2>{{ viaje.origen.provincia }}</h2>
            <p>{{ viaje.origen.pais }}</p>
          </ion-item>
      </ng-template>

      <ion-item *ngIf="viaje.idTransportista!='';else destinoProvincia">
        <ion-icon color="subtle" large item-start name="arrow-dropleft-circle"></ion-icon>
        <h2>{{ viaje.destino.name }}</h2>
        <p>{{ viaje.destino.formatted_address }}</p>
      </ion-item>
      <ng-template #destinoProvincia>
        <ion-item>
            <ion-icon color="subtle" name="arrow-dropright-circle" item-start large></ion-icon>
            <h2>{{ viaje.destino.provincia }}</h2>
            <p>{{ viaje.destino.pais }}</p>
          </ion-item>
      </ng-template>

      <ion-item>
        <span item-left>> {{viaje.distancia}} Kms</span>
      </ion-item>
      <ion-item>
        <span item-left>Tipo</span>
        <span item-right>

          <h2 *ngIf="viaje.tipo == 'ci'">Cisterna</h2>
          <h2 *ngIf="viaje.tipo == 'co'">Contenedor</h2>

        </span>
      </ion-item>
      <ion-item>
        <span item-left>Referencia</span>
        <span item-right>
          <h2> {{ viaje.referencia }}</h2>
        </span>
      </ion-item>
      <ion-item>
        <span item-left>Mercancia</span>
        <span item-right>
        <h2> {{ viaje.mercancia }}</h2>
        </span>
      </ion-item>
      <ion-item>
        <span item-left>Volumen/carga</span>
        <span item-right>
          <h2> {{ viaje.carga }}</h2>
        </span>
      </ion-item>
      <ion-item>
        <span item-left>Fecha de carga</span>
        <span item-right>
          <ion-datetime disabled displayFormat="MMM DD YYYY" [(ngModel)]="viaje.fechac"></ion-datetime>
        </span>
      </ion-item>
      <ion-item>
        <span item-left>Fecha de descarga</span>
        <span item-right>
          <ion-datetime disabled displayFormat="MMM DD YYYY" [(ngModel)]="viaje.fechad"></ion-datetime>
        </span>
      </ion-item>
      <ion-item class="text-center item-accordion item-icon-left item-header">
        <ion-label stacked>Especificaciones</ion-label>
        <ion-textarea disabled type="text" [(ngModel)]="viaje.especificaciones" name="especificaciones"></ion-textarea>
    </ion-item>
    <ion-item *ngIf="viaje.idTransportista!=''" class="text-center item-accordion item-icon-left item-header">
        <ion-label stacked>Observaciones</ion-label>
        <ion-textarea disabled type="text" [(ngModel)]="viaje.observaciones" name="observaciones"></ion-textarea>
    </ion-item>
    <ion-item *ngIf="viaje.idTransportista!=''" class="text-center item-accordion item-icon-left item-header">
        <ion-label stacked>CÃ³digo de lavado</ion-label>
        <ion-textarea disabled type="text" [(ngModel)]="viaje.codigoLavado" name="codigoLavado"></ion-textarea>
    </ion-item>

    <ion-item (click)="viewProfile(viaje.userId)">
      <ion-avatar item-start large>
        <img src="{{ (userProfile | async)?.picture }}" >
      </ion-avatar>
      <h2>Publicado por</h2>
      <p>{{ (userProfile | async)?.contactName }} / {{ (userProfile | async)?.empresa }}</p>
    </ion-item>
    <ion-item *ngIf="viaje.idTransportista!=''" (click)="viewProfile(viaje.idTransportista)">
      <ion-avatar item-start large>
        <img src="{{ (assignedProfile | async)?.picture }}" >
      </ion-avatar>
      <h2>Asignado a</h2>
      <p>{{ (assignedProfile | async)?.contactName }} / {{ (assignedProfile | async)?.empresa }}</p>
    </ion-item>

  </ion-card>

</ion-content>
